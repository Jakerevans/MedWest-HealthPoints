console.log("This is the JavaScript Object that holds all PHP Variables for use in the medwesthealthpoints Front-End JavaScript file:"),console.log(medwestHealthpointsPhpVariables),jQuery(document).ready(function(m){"use strict";var i;m(document).on("click","#medwesthealthpoints-join-as-vet",function(e){var t=m("#medwesthealthpoints-dashboard-veteran-join-form-wrapper"),i=t.css("height","auto").height();t.height(0),t.stop().animate({height:i+50,opacity:1},{duration:1e3})}),m(document).on("keyup change",".medwesthealthpoints-form-section-fields-input, #medwesthealthpoints-form-vetstate",function(e){m(this).prev().css({color:"initial"})}),m(document).on("click",".medwesthealthpoints-form-section-fields-input-button-apply",function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"1"}),m("#medwesthealthpoints-displayentries-response-div-actual-container").text("");var t=m("#medwesthealthpoints-form-firstname").val(),i=m("#medwesthealthpoints-form-firstnum").val(),o=m("#medwesthealthpoints-form-lastname").val(),a=m("#medwesthealthpoints-form-email-veteran").val(),n=m("#medwesthealthpoints-form-password-vet").val(),s=m("#medwesthealthpoints-form-confirmemail-veteran").val(),r=m("#medwesthealthpoints-form-confirmpassword-vet").val(),d=m("#medwesthealthpoints-form-vetstate").val(),l=m(this).attr("data-idtosearchthrough"),h=[];if(""!==t&&null!=t||h.push("medwesthealthpoints-form-firstname"),""!==o&&null!=o||h.push("medwesthealthpoints-form-lastname"),""!==a&&null!=a||h.push("medwesthealthpoints-form-email-veteran"),""!==n&&null!=n||h.push("medwesthealthpoints-form-password-vet"),""!==s&&null!=s||h.push("medwesthealthpoints-form-confirmemail-veteran"),""!==r&&null!=r||h.push("medwesthealthpoints-form-confirmpassword-vet"),""!==i&&null!=i||h.push("medwesthealthpoints-form-firstnum"),null===d&&h.push("medwesthealthpoints-form-vetstate"),0<m("#"+l+" .medwesthealthpoints-confirmemail-block-message-div").length&&"true"===m("#"+l+" .medwesthealthpoints-confirmemail-block-message-div").attr("data-activated")&&h.push(l+" .medwesthealthpoints-confirmemail-block-message-div"),0<m("#"+l+" .medwesthealthpoints-confirmpassword-block-message-div").length&&"true"===m("#"+l+" .medwesthealthpoints-confirmpassword-block-message-div").attr("data-activated")&&h.push(l+" .medwesthealthpoints-confirmpassword-block-message-div"),0<h.length){for(var c=0;c<h.length;c++)m("#"+h[c]).prev().css({color:"red"});m(this).next().animate({opacity:0},300),console.log(h),"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmemail-block-message-div"===h[0]||"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmemail-block-message-div"===h[1]?alert("Whoops! Looks like your E-Mail Addresses don't match!"):"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmpassword-block-message-div"===h[0]||"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmpassword-block-message-div"===h[1]?alert("Whoops! Looks like your Passwords don't match!"):alert("Whoops! Looks like you might have missed providing some required information!"),m("html, body").animate({scrollTop:m("#"+h[0]).offset().top-150},1e3)}else{var p={action:"medwesthealthpoints_register_new_user_action",security:medwestHealthpointsPhpVariables.adminnonce1,userfirstname:t,userlastname:o,useremail:a,userpassword:n,userdepartment:d,useridnumber:i};console.log("This is the data being sent to the server to create a new user"),console.log(p),m.ajax({url:ajaxurl,type:"POST",data:p,timeout:0,success:function(e){if(m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),console.log(e),"Username Exists"===e)m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Whoops! Looks like someone with this Email address already exists! Please try a different Email address.");else if("Unknown error creating WordPress User"===e)m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Hmm... looks like we've run into some kind of error! Please try again later.");else{m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Success!");var t=e.split("--$user_id--");window.location.href=window.location.href+"?un="+t[1]}},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}}),m(document).on("keyup",".medwesthealthpoints-form-section-fields-indiv-wrapper-emailconfirmblock input",function(e){var t=m(this).parent().parent(),i=t.find(".medwesthealthpoints-form-section-fields-input-text-email").val().toLowerCase(),o=t.find(".medwesthealthpoints-form-section-fields-input-text-emailconfirm").val().toLowerCase(),a=t.find(".medwesthealthpoints-confirmemail-block-message-div");setTimeout(function(){i!==o?(a.attr("data-activated","true"),a.html("E-Mails Don't Match!"),a.css({color:"#DE235A","margin-left":"10px","margin-right":"10px"}),a.animate({opacity:"1"},300)):(a.attr("data-activated","false"),a.html(""),a.css({"margin-left":"0px","margin-right":"0px"}))},1e3)}),m(document).on("keyup",".medwesthealthpoints-form-section-fields-indiv-wrapper-passwordconfirmblock input",function(e){var t=m(this).parent().parent(),i=t.find(".medwesthealthpoints-form-section-fields-input-text-password").val().toLowerCase(),o=t.find(".medwesthealthpoints-form-section-fields-input-text-passwordconfirm").val().toLowerCase(),a=t.find(".medwesthealthpoints-confirmpassword-block-message-div");setTimeout(function(){i!==o?(a.attr("data-activated","true"),a.html("Passwords Don't Match!"),a.css({color:"#DE235A","margin-left":"10px","margin-right":"10px"}),a.animate({opacity:"1"},300)):(a.attr("data-activated","false"),a.html(""),a.css({"margin-left":"0px","margin-right":"0px"}))},1e3)}),m(document).on("click",".medwest-form-section-fields-input-file-upload-button",function(e){var t=m(this);e.preventDefault(),(i=wp.media.frames.fileFrame=wp.media({title:"Upload Supporting Documentation For Your Activity",button:{text:"Select This File"},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();t.prev().val(e.url),t.prev().prev().attr("src",e.url)}),i.open()}),m(document).on("change",".medwest-activity-dropdown-actual",function(e){m("#medwest-submit-activity-submissions-button").attr("data-activityselected",m(this).val())}),m(document).on("click","#medwest-submit-activity-submissions-button",function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"1"});var t=m(this).attr("data-activityselected"),i=m(this).parent().find(".medwest-activity-dropdown-actual").attr("data-category"),o=m("#medwest-date-performed-input").val(),a=m("#medwest-form-vetdd214-0").val(),n=m(this).attr("data-wpuserid"),s=m(this).attr("data-activityemployeeid"),r=m(this).parent().find(".medwest-activity-dropdown-actual option:selected",this).attr("data-requireddocs"),d=!0;if(void 0===t)return alert("Whoops! Looks like you forgot to select the Activity you completed!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(""===o)return alert("Whoops! Looks like you forgot to enter the Date This Activity Was Performed!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(""===a&&"Yes"===r)return alert("Whoops! Looks like you forgot to provide Supporting Documentation for this Activity!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(d){var l={action:"medwesthealthpoints_save_activity_user_action",security:medwestHealthpointsPhpVariables.adminnonce2,activityname:t,activitycategory:i,activitydateperformed:o,activitysupportingdocs:a,activitywpuserid:n,activityemployeeid:s,required:r};console.log("This is the data being sent to the server to save a user's activity"),console.log(l)}}),m(document).on("click",".medwest-loggedin-indiv-profile-piece-wrapper-button",function(e){var t=m(this).attr("data-category"),i=t.split("-")[0],o=t.split("-")[1],a=m("#medwest-dynamic-record-view-activity-dropdown"),n=m("#medwest-dropdown-"+o);"record"===i?m(".medwest-saved-activities-top-wrapper").stop().animate({height:0,opacity:1},{duration:500,complete:function(){a.html(n.html());var e=m("#medwest-record-view-rows-actual-form-wrapper"),t=e.css("height","auto").height();e.height(0),e.stop().animate({height:t+50,opacity:1},{duration:1e3})}}):(m(".medwest-saved-activities-top-wrapper").stop().animate({height:0,opacity:1},{duration:500,complete:function(){}}),m("#medwest-record-view-rows-actual-form-wrapper").stop().animate({height:0,opacity:1},{duration:500,complete:function(){var e=m("#medwest-saved-activities-top-wrapper-"+o),t=e.css("height","auto").height();e.height(0),e.stop().animate({height:t+50,opacity:1},{duration:500,complete:function(){}})}}))}),m(document).on("click","#medwest-loggedin-frontend-colorbox-trigger",function(e){var t=m("#medwest-hidden-rewards-html-popup").html();console.log(t),m.colorbox({iframe:!1,title:"",width:"90%",height:"90%",html:t,fastIframe:!1,onComplete:function(){}})}),m(document).on("click",".medwest-popup-reward-redeem-actual",function(e){var t=m(this).parent().parent().next(),i=t.css("height","auto").height();t.height(0),t.stop().animate({height:i+50,opacity:1},{duration:1e3})}),m(document).on("click",".medwest-popup-reward-redeem-actual-verified",function(e){var t=m(this).attr("data-rewardrequestwpuserid"),i=m(this).attr("data-rewardrequestfirstlastname"),o=m(this).attr("data-rewardsrequestrewardsname"),a=m(this).attr("data-rewardsrequestdate"),n=m(this).attr("data-rewardrequestemployeeid"),s=m(this).attr("data-rewardrequestrewardsid"),r=m(this).attr("data-leftwith"),d={action:"medwesthealthpoints_request_reward_user_action",security:medwestHealthpointsPhpVariables.adminnonce3,rewardrequestwpuserid:t,rewardrequestfirstlastname:i,rewardrequestrewardsname:o,rewardrequestdate:a,rewardrequeststatus:"pending",rewardrequestemployeeid:n,rewardrequestrewardsid:s,leftwith:r};console.log("This is the data being sent to the server to request a user's reward"),console.log(d),m.ajax({url:ajaxurl,type:"POST",data:d,timeout:0,success:function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),document.location.reload(!0),console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}),m(".medwest-frontend-edit-profile").on("click",function(){if(console.log("click"),"false"===m(this).attr("data-saveedits"))m(this).text("Save Profile Edits"),m(this).attr("data-saveedits","true"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").removeAttr("disabled"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").focus();else{m(this).text("Edit Profile"),m(this).attr("data-saveedits","false"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").attr("disabled","true");var e=m(this).attr("data-wpuserid"),t=m(this).attr("data-usertableid"),i=m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").val(),o={action:"medwesthealthpoints_edit_user_profile_action",security:medwestHealthpointsPhpVariables.adminnonce19,wpuserid:e,usertableid:t,usernewemail:i};console.log("This is the data being sent to the server to save a user's activity"),console.log(o),m.ajax({url:ajaxurl,type:"POST",data:o,timeout:0,success:function(e){console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}event.preventDefault?event.preventDefault():event.returnValue=!1}),m(document).on("click",".medwest-denied-activity-div-text-button",function(e){var t=m(this).attr("data-activityname"),i=m(this).attr("data-wpuserid"),o=m(this).attr("data-useremployeeid"),a=m(this).attr("data-id"),n={action:"medwesthealthpoints_dismiss_activity_denied_action",security:medwestHealthpointsPhpVariables.adminnonce18,notificationactivityname:t,notificationuserwpuserid:i,notificationuseridnumber:o,id:a};console.log("This is the data being sent to the server to save a user's activity"),console.log(n),m.ajax({url:ajaxurl,type:"POST",data:n,timeout:0,success:function(e){console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}),function(h,d,l){function c(e,t,i){var o=d.createElement(e);return t&&(o.id=Z+t),i&&(o.style.cssText=i),h(o)}function p(){return l.innerHeight?l.innerHeight:h(l).height()}function m(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var t;return void 0===this.cache[e]&&(void 0!==(t=h(this.el).attr("data-cbox-"+e))?this.cache[e]=t:void 0!==i[e]?this.cache[e]=i[e]:void 0!==G[e]&&(this.cache[e]=G[e])),this.cache[e]},this.get=function(e){var t=this.value(e);return h.isFunction(t)?t.call(this.el,this):t}}function n(e){var t=E.length,i=(V+e)%t;return i<0?t+i:i}function u(e,t){return Math.round((/%/.test(e)?("x"===t?L.width():p())/100:1)*parseInt(e,10))}function f(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function g(e,t){return e.get("retinaUrl")&&1<l.devicePixelRatio?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function w(e){"contains"in x[0]&&!x[0].contains(e.target)&&e.target!==b[0]&&(e.stopPropagation(),x.focus())}function v(e){v.str!==e&&(x.add(b).removeClass(v.str).addClass(e),v.str=e)}function y(e){h(d).trigger(e),re.triggerHandler(e)}function o(e){var t,i;if(!J){if(t=h(e).data(X),O=new m(e,t),i=O.get("rel"),V=0,i&&!1!==i&&"nofollow"!==i?(E=h("."+ee).filter(function(){return new m(this,h.data(this,X)).get("rel")===i}),-1===(V=E.index(O.el))&&(E=E.add(O.el),V=E.length-1)):E=h(O.el),!N){N=z=!0,v(O.get("className")),x.css({visibility:"hidden",display:"block",opacity:""}),W=c(de,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),T.css({width:"",height:""}).append(W),A=C.height()+H.height()+T.outerHeight(!0)-T.height(),R=P.width()+_.width()+T.outerWidth(!0)-T.width(),K=W.outerHeight(!0),B=W.outerWidth(!0);var o=u(O.get("initialWidth"),"x"),a=u(O.get("initialHeight"),"y"),n=O.get("maxWidth"),s=O.get("maxHeight");O.w=Math.max((!1!==n?Math.min(o,u(n,"x")):o)-B-R,0),O.h=Math.max((!1!==s?Math.min(a,u(s,"y")):a)-K-A,0),W.css({width:"",height:O.h}),Q.position(),y(te),O.get("onOpen"),F.add(q).hide(),x.focus(),O.get("trapFocus")&&d.addEventListener&&(d.addEventListener("focus",w,!0),re.one(ne,function(){d.removeEventListener("focus",w,!0)})),O.get("returnFocus")&&re.one(ne,function(){h(O.el).focus()})}var r=parseFloat(O.get("opacity"));b.css({opacity:r==r?r:"",cursor:O.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),O.get("closeButton")?I.html(O.get("close")).appendTo(T):I.appendTo("<div/>"),function(){var e,t,i,o=Q.prep,a=++le;if(U=!(z=!0),y(se),y(ie),O.get("onLoad"),O.h=O.get("height")?u(O.get("height"),"y")-K-A:O.get("innerHeight")&&u(O.get("innerHeight"),"y"),O.w=O.get("width")?u(O.get("width"),"x")-B-R:O.get("innerWidth")&&u(O.get("innerWidth"),"x"),O.mw=O.w,O.mh=O.h,O.get("maxWidth")&&(O.mw=u(O.get("maxWidth"),"x")-B-R,O.mw=O.w&&O.w<O.mw?O.w:O.mw),O.get("maxHeight")&&(O.mh=u(O.get("maxHeight"),"y")-K-A,O.mh=O.h&&O.h<O.mh?O.h:O.mh),e=O.get("href"),$=setTimeout(function(){S.show()},100),O.get("inline")){var n=h(e).eq(0);i=h("<div>").hide().insertBefore(n),re.one(se,function(){i.replaceWith(n)}),o(n)}else O.get("iframe")?o(" "):O.get("html")?o(O.get("html")):f(O,e)?(e=g(O,e),U=O.get("createImg"),h(U).addClass(Z+"Photo").bind("error."+Z,function(){o(c(de,"Error").html(O.get("imgError")))}).one("load",function(){a===le&&setTimeout(function(){var e;O.get("retinaImage")&&1<l.devicePixelRatio&&(U.height=U.height/l.devicePixelRatio,U.width=U.width/l.devicePixelRatio),O.get("scalePhotos")&&(t=function(){U.height-=U.height*e,U.width-=U.width*e},O.mw&&U.width>O.mw&&(e=(U.width-O.mw)/U.width,t()),O.mh&&U.height>O.mh&&(e=(U.height-O.mh)/U.height,t())),O.h&&(U.style.marginTop=Math.max(O.mh-U.height,0)/2+"px"),E[1]&&(O.get("loop")||E[V+1])&&(U.style.cursor="pointer",h(U).bind("click."+Z,function(){Q.next()})),U.style.width=U.width+"px",U.style.height=U.height+"px",o(U)},1)}),U.src=e):e&&j.load(e,O.get("data"),function(e,t){a===le&&o("error"===t?c(de,"Error").html(O.get("xhrError")):h(this).contents())})}()}}function a(){x||(Y=!1,L=h(l),x=c(de).attr({id:X,class:!1===h.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),b=c(de,"Overlay").hide(),S=h([c(de,"LoadingOverlay")[0],c(de,"LoadingGraphic")[0]]),k=c(de,"Wrapper"),T=c(de,"Content").append(q=c(de,"Title"),s=c(de,"Current"),D=h('<button type="button"/>').attr({id:Z+"Previous"}),r=h('<button type="button"/>').attr({id:Z+"Next"}),M=h('<button type="button"/>').attr({id:Z+"Slideshow"}),S),I=h('<button type="button"/>').attr({id:Z+"Close"}),k.append(c(de).append(c(de,"TopLeft"),C=c(de,"TopCenter"),c(de,"TopRight")),c(de,!1,"clear:left").append(P=c(de,"MiddleLeft"),T,_=c(de,"MiddleRight")),c(de,!1,"clear:left").append(c(de,"BottomLeft"),H=c(de,"BottomCenter"),c(de,"BottomRight"))).find("div div").css({float:"left"}),j=c(de,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),F=r.add(D).add(s).add(M)),d.body&&!x.parent().length&&h(d.body).append(b,x.append(k,j))}var b,x,k,T,C,P,_,H,E,L,W,j,S,q,s,M,r,D,I,F,O,A,R,K,B,V,U,N,z,J,$,Q,Y,G={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return h(this).attr("href")},title:function(){return this.title},createImg:function(){var i=new Image,e=h(this).data("cbox-img-attrs");return"object"==typeof e&&h.each(e,function(e,t){i[e]=t}),i},createIframe:function(){var i=d.createElement("iframe"),e=h(this).data("cbox-iframe-attrs");return"object"==typeof e&&h.each(e,function(e,t){i[e]=t}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},X="colorbox",Z="cbox",ee=Z+"Element",te=Z+"_open",ie=Z+"_load",oe=Z+"_complete",ae=Z+"_cleanup",ne=Z+"_closed",se=Z+"_purge",re=h("<a/>"),de="div",le=0,he={},ce=function(){function e(){clearTimeout(s)}function t(){(O.get("loop")||E[V+1])&&(e(),s=setTimeout(Q.next,O.get("slideshowSpeed")))}function i(){M.html(O.get("slideshowStop")).unbind(d).one(d,o),re.bind(oe,t).bind(ie,e),x.removeClass(r+"off").addClass(r+"on")}function o(){e(),re.unbind(oe,t).unbind(ie,e),M.html(O.get("slideshowStart")).unbind(d).one(d,function(){Q.next(),i()}),x.removeClass(r+"on").addClass(r+"off")}function a(){n=!1,M.hide(),e(),re.unbind(oe,t).unbind(ie,e),x.removeClass(r+"off "+r+"on")}var n,s,r=Z+"Slideshow_",d="click."+Z;return function(){n?O.get("slideshow")||(re.unbind(ae,a),a()):O.get("slideshow")&&E[1]&&(n=!0,re.one(ae,a),O.get("slideshowAuto")?i():o(),M.show())}}();h[X]||(h(a),(Q=h.fn[X]=h[X]=function(t,e){var i=this;return t=t||{},h.isFunction(i)&&(i=h("<a/>"),t.open=!0),i[0]&&(a(),function(){function e(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),o(this))}return!!x&&(Y||(Y=!0,r.click(function(){Q.next()}),D.click(function(){Q.prev()}),I.click(function(){Q.close()}),b.click(function(){O.get("overlayClose")&&Q.close()}),h(d).bind("keydown."+Z,function(e){var t=e.keyCode;N&&O.get("escKey")&&27===t&&(e.preventDefault(),Q.close()),N&&O.get("arrowKey")&&E[1]&&!e.altKey&&(37===t?(e.preventDefault(),D.click()):39===t&&(e.preventDefault(),r.click()))}),h.isFunction(h.fn.on)?h(d).on("click."+Z,"."+ee,e):h("."+ee).live("click."+Z,e)),!0)}()&&(e&&(t.onComplete=e),i.each(function(){var e=h.data(this,X)||{};h.data(this,X,h.extend(e,t))}).addClass(ee),new m(i[0],t).get("open")&&o(i[0]))),i}).position=function(t,e){function i(){C[0].style.width=H[0].style.width=T[0].style.width=parseInt(x[0].style.width,10)-R+"px",T[0].style.height=P[0].style.height=_[0].style.height=parseInt(x[0].style.height,10)-A+"px"}var o,a,n,s=0,r=0,d=x.offset();if(L.unbind("resize."+Z),x.css({top:-9e4,left:-9e4}),a=L.scrollTop(),n=L.scrollLeft(),O.get("fixed")?(d.top-=a,d.left-=n,x.css({position:"fixed"})):(s=a,r=n,x.css({position:"absolute"})),r+=!1!==O.get("right")?Math.max(L.width()-O.w-B-R-u(O.get("right"),"x"),0):!1!==O.get("left")?u(O.get("left"),"x"):Math.round(Math.max(L.width()-O.w-B-R,0)/2),s+=!1!==O.get("bottom")?Math.max(p()-O.h-K-A-u(O.get("bottom"),"y"),0):!1!==O.get("top")?u(O.get("top"),"y"):Math.round(Math.max(p()-O.h-K-A,0)/2),x.css({top:d.top,left:d.left,visibility:"visible"}),k[0].style.width=k[0].style.height="9999px",o={width:O.w+B+R,height:O.h+K+A,top:s,left:r},t){var l=0;h.each(o,function(e){return o[e]!==he[e]?void(l=t):void 0}),t=l}he=o,t||x.css(o),x.dequeue().animate(o,{duration:t||0,complete:function(){i(),z=!1,k[0].style.width=O.w+B+R+"px",k[0].style.height=O.h+K+A+"px",O.get("reposition")&&setTimeout(function(){L.bind("resize."+Z,Q.position)},1),h.isFunction(e)&&e()},step:i})},Q.resize=function(e){var t;N&&((e=e||{}).width&&(O.w=u(e.width,"x")-B-R),e.innerWidth&&(O.w=u(e.innerWidth,"x")),W.css({width:O.w}),e.height&&(O.h=u(e.height,"y")-K-A),e.innerHeight&&(O.h=u(e.innerHeight,"y")),e.innerHeight||e.height||(t=W.scrollTop(),W.css({height:"auto"}),O.h=W.height()),W.css({height:O.h}),t&&W.scrollTop(t),Q.position("none"===O.get("transition")?0:O.get("speed")))},Q.prep=function(e){if(N){var t,a="none"===O.get("transition")?0:O.get("speed");W.remove(),(W=c(de,"LoadedContent").append(e)).hide().appendTo(j.show()).css({width:(O.w=O.w||W.width(),O.w=O.mw&&O.mw<O.w?O.mw:O.w,O.w),overflow:O.get("scrolling")?"auto":"hidden"}).css({height:(O.h=O.h||W.height(),O.h=O.mh&&O.mh<O.h?O.mh:O.h,O.h)}).prependTo(T),j.hide(),h(U).css({float:"none"}),v(O.get("className")),t=function(){function e(){!1===h.support.opacity&&x[0].style.removeAttribute("filter")}var t,i,o=E.length;N&&(i=function(){clearTimeout($),S.hide(),y(oe),O.get("onComplete")},q.html(O.get("title")).show(),W.show(),1<o?("string"==typeof O.get("current")&&s.html(O.get("current").replace("{current}",V+1).replace("{total}",o)).show(),r[O.get("loop")||V<o-1?"show":"hide"]().html(O.get("next")),D[O.get("loop")||V?"show":"hide"]().html(O.get("previous")),ce(),O.get("preloading")&&h.each([n(-1),n(1)],function(){var e=E[this],t=new m(e,h.data(e,X)),i=t.get("href");i&&f(t,i)&&(i=g(t,i),d.createElement("img").src=i)})):F.hide(),O.get("iframe")?(t=O.get("createIframe"),O.get("scrolling")||(t.scrolling="no"),h(t).attr({src:O.get("href"),class:Z+"Iframe"}).one("load",i).appendTo(W),re.one(se,function(){t.src="//about:blank"}),O.get("fastIframe")&&h(t).trigger("load")):i(),"fade"===O.get("transition")?x.fadeTo(a,1,e):e())},"fade"===O.get("transition")?x.fadeTo(a,0,function(){Q.position(0,t)}):Q.position(a,t)}},Q.next=function(){!z&&E[1]&&(O.get("loop")||E[V+1])&&(V=n(1),o(E[V]))},Q.prev=function(){!z&&E[1]&&(O.get("loop")||V)&&(V=n(-1),o(E[V]))},Q.close=function(){N&&!J&&(N=!(J=!0),y(ae),O.get("onCleanup"),L.unbind("."+Z),b.fadeTo(O.get("fadeOut")||0,0),x.stop().fadeTo(O.get("fadeOut")||0,0,function(){x.hide(),b.hide(),y(se),W.remove(),setTimeout(function(){J=!1,y(ne),O.get("onClosed")},1)}))},Q.remove=function(){x&&(x.stop(),h[X].close(),x.stop(!1,!0).remove(),b.remove(),J=!1,x=null,h("."+ee).removeData(X).removeClass(ee),h(d).unbind("click."+Z).unbind("keydown."+Z))},Q.element=function(){return h(O.el)},Q.settings=G)}(jQuery,document,window)});