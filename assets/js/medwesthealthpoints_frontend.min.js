console.log("This is the JavaScript Object that holds all PHP Variables for use in the medwesthealthpoints Front-End JavaScript file:"),console.log(medwestHealthpointsPhpVariables),jQuery(document).ready(function(m){"use strict";var i,e,t;m(document).on("click","#medwesthealthpoints-join-as-vet",function(e){var t=m("#medwesthealthpoints-dashboard-veteran-join-form-wrapper"),i=t.css("height","auto").height();t.height(0),t.stop().animate({height:i+50,opacity:1},{duration:1e3})}),m(document).on("keyup change",".medwesthealthpoints-form-section-fields-input, #medwesthealthpoints-form-vetstate",function(e){m(this).prev().css({color:"initial"})}),m(document).on("click",".medwesthealthpoints-form-section-fields-input-button-apply",function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"1"}),m("#medwesthealthpoints-displayentries-response-div-actual-container").text("");var t=m("#medwesthealthpoints-form-firstname").val(),i=m("#medwesthealthpoints-form-firstnum").val(),o=m("#medwesthealthpoints-form-lastname").val(),a=m("#medwesthealthpoints-form-email-veteran").val(),n=m("#medwesthealthpoints-form-password-vet").val(),s=m("#medwesthealthpoints-form-confirmemail-veteran").val(),r=m("#medwesthealthpoints-form-confirmpassword-vet").val(),d=m("#medwesthealthpoints-form-vetstate").val(),l=m(this).attr("data-idtosearchthrough"),h=[];if(""!==t&&null!=t||h.push("medwesthealthpoints-form-firstname"),""!==o&&null!=o||h.push("medwesthealthpoints-form-lastname"),""!==a&&null!=a||h.push("medwesthealthpoints-form-email-veteran"),""!==n&&null!=n||h.push("medwesthealthpoints-form-password-vet"),""!==s&&null!=s||h.push("medwesthealthpoints-form-confirmemail-veteran"),""!==r&&null!=r||h.push("medwesthealthpoints-form-confirmpassword-vet"),""!==i&&null!=i||h.push("medwesthealthpoints-form-firstnum"),null===d&&h.push("medwesthealthpoints-form-vetstate"),0<m("#"+l+" .medwesthealthpoints-confirmemail-block-message-div").length&&"true"===m("#"+l+" .medwesthealthpoints-confirmemail-block-message-div").attr("data-activated")&&h.push(l+" .medwesthealthpoints-confirmemail-block-message-div"),0<m("#"+l+" .medwesthealthpoints-confirmpassword-block-message-div").length&&"true"===m("#"+l+" .medwesthealthpoints-confirmpassword-block-message-div").attr("data-activated")&&h.push(l+" .medwesthealthpoints-confirmpassword-block-message-div"),0<h.length){for(var c=0;c<h.length;c++)m("#"+h[c]).prev().css({color:"red"});m(this).next().animate({opacity:0},300),console.log(h),"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmemail-block-message-div"===h[0]||"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmemail-block-message-div"===h[1]?alert("Whoops! Looks like your E-Mail Addresses don't match!"):"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmpassword-block-message-div"===h[0]||"medwesthealthpoints-dashboard-veteran-join-form-wrapper .medwesthealthpoints-confirmpassword-block-message-div"===h[1]?alert("Whoops! Looks like your Passwords don't match!"):alert("Whoops! Looks like you might have missed providing some required information!"),m("html, body").animate({scrollTop:m("#"+h[0]).offset().top-150},1e3)}else{var p={action:"medwesthealthpoints_register_new_user_action",security:medwestHealthpointsPhpVariables.adminnonce1,userfirstname:t,userlastname:o,useremail:a,userpassword:n,userdepartment:d,useridnumber:i};console.log("This is the data being sent to the server to create a new user"),console.log(p),m.ajax({url:ajaxurl,type:"POST",data:p,timeout:0,success:function(e){if(m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),console.log(e),"Username Exists"===e)m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Whoops! Looks like someone with this Email address already exists! Please try a different Email address.");else if("Unknown error creating WordPress User"===e)m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Hmm... looks like we've run into some kind of error! Please try again later.");else{m(".medwesthealthpoints-displayentries-response-div-actual-container").text("Success!");var t=e.split("--$user_id--");window.location.href=window.location.href+"?un="+t[1]}},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}}),m(document).on("keyup",".medwesthealthpoints-form-section-fields-indiv-wrapper-emailconfirmblock input",function(e){var t=m(this).parent().parent(),i=t.find(".medwesthealthpoints-form-section-fields-input-text-email").val().toLowerCase(),o=t.find(".medwesthealthpoints-form-section-fields-input-text-emailconfirm").val().toLowerCase(),a=t.find(".medwesthealthpoints-confirmemail-block-message-div");setTimeout(function(){i!==o?(a.attr("data-activated","true"),a.html("E-Mails Don't Match!"),a.css({color:"#DE235A","margin-left":"10px","margin-right":"10px"}),a.animate({opacity:"1"},300)):(a.attr("data-activated","false"),a.html(""),a.css({"margin-left":"0px","margin-right":"0px"}))},1e3)}),m(document).on("keyup",".medwesthealthpoints-form-section-fields-indiv-wrapper-passwordconfirmblock input",function(e){var t=m(this).parent().parent(),i=t.find(".medwesthealthpoints-form-section-fields-input-text-password").val().toLowerCase(),o=t.find(".medwesthealthpoints-form-section-fields-input-text-passwordconfirm").val().toLowerCase(),a=t.find(".medwesthealthpoints-confirmpassword-block-message-div");setTimeout(function(){i!==o?(a.attr("data-activated","true"),a.html("Passwords Don't Match!"),a.css({color:"#DE235A","margin-left":"10px","margin-right":"10px"}),a.animate({opacity:"1"},300)):(a.attr("data-activated","false"),a.html(""),a.css({"margin-left":"0px","margin-right":"0px"}))},1e3)}),m(document).on("click",".medwest-form-section-fields-input-file-upload-button",function(e){var t=m(this);e.preventDefault(),(i=wp.media.frames.fileFrame=wp.media({title:"Upload Supporting Documentation For Your Activity",button:{text:"Select This File"},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();t.prev().val(e.url),t.prev().prev().attr("src",e.url)}),i.open()}),m(document).on("change",".medwest-activity-dropdown-actual",function(e){m("#medwest-submit-activity-submissions-button").attr("data-activityselected",m(this).val())}),m(document).on("click","#medwest-submit-activity-submissions-button",function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"1"});var t=m(this).attr("data-activityselected"),i=m(this).parent().find(".medwest-activity-dropdown-actual").attr("data-category"),o=m("#medwest-date-performed-input").val(),a=m("#medwest-form-vetdd214-0").val(),n=m(this).attr("data-wpuserid"),s=m(this).attr("data-activityemployeeid"),r=m(this).parent().find(".medwest-activity-dropdown-actual option:selected",this).attr("data-requireddocs"),d=!0;if(void 0===t)return alert("Whoops! Looks like you forgot to select the Activity you completed!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(""===o)return alert("Whoops! Looks like you forgot to enter the Date This Activity Was Performed!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(""===a&&"Yes"===r)return alert("Whoops! Looks like you forgot to provide Supporting Documentation for this Activity!"),m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),d=!1;if(d){var l={action:"medwesthealthpoints_save_activity_user_action",security:medwestHealthpointsPhpVariables.adminnonce2,activityname:t,activitycategory:i,activitydateperformed:o,activitysupportingdocs:a,activitywpuserid:n,activityemployeeid:s,required:r};console.log("This is the data being sent to the server to save a user's activity"),console.log(l),m.ajax({url:ajaxurl,type:"POST",data:l,timeout:0,success:function(e){document.location.reload(!0),console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}}),m(document).on("click",".medwest-loggedin-indiv-profile-piece-wrapper-button",function(e){var t=m(this).attr("data-category"),i=t.split("-")[0],o=t.split("-")[1],a=m("#medwest-dynamic-record-view-activity-dropdown"),n=m("#medwest-dropdown-"+o);"record"===i?m(".medwest-saved-activities-top-wrapper").stop().animate({height:0,opacity:1,marginTop:0},{duration:500,complete:function(){a.html(n.html());var e=m("#medwest-record-view-rows-actual-form-wrapper"),t=e.css("height","auto").height();e.height(0),e.stop().animate({height:t+50,opacity:1,marginTop:"60px"},{duration:1e3})}}):(m(".medwest-saved-activities-top-wrapper").stop().animate({height:0,opacity:1,marginTop:0},{duration:500,complete:function(){}}),m("#medwest-record-view-rows-actual-form-wrapper").stop().animate({height:0,opacity:1},{duration:500,complete:function(){var e=m("#medwest-saved-activities-top-wrapper-"+o),t=e.css("height","auto").height();e.height(0),e.stop().animate({height:t+50,opacity:1,marginTop:"60px"},{duration:500,complete:function(){}})}}))}),m(document).on("click","#medwest-loggedin-frontend-colorbox-trigger",function(e){var t=m("#medwest-hidden-rewards-html-popup").html();console.log(t),m.colorbox({iframe:!1,title:"",width:"90%",height:"90%",html:t,fastIframe:!1,onComplete:function(){}})}),m(document).on("click",".medwest-popup-reward-redeem-actual",function(e){var t=m(this).parent().parent().next(),i=t.css("height","auto").height();t.height(0),t.stop().animate({height:i+50,opacity:1},{duration:1e3})}),m(document).on("click",".medwest-popup-reward-redeem-actual-verified",function(e){var t=m(this).attr("data-rewardrequestwpuserid"),i=m(this).attr("data-rewardrequestfirstlastname"),o=m(this).attr("data-rewardsrequestrewardsname"),a=m(this).attr("data-rewardsrequestdate"),n=m(this).attr("data-rewardrequestemployeeid"),s=m(this).attr("data-rewardrequestrewardsid"),r=m(this).attr("data-leftwith"),d={action:"medwesthealthpoints_request_reward_user_action",security:medwestHealthpointsPhpVariables.adminnonce3,rewardrequestwpuserid:t,rewardrequestfirstlastname:i,rewardrequestrewardsname:o,rewardrequestdate:a,rewardrequeststatus:"pending",rewardrequestemployeeid:n,rewardrequestrewardsid:s,leftwith:r};console.log("This is the data being sent to the server to request a user's reward"),console.log(d),m.ajax({url:ajaxurl,type:"POST",data:d,timeout:0,success:function(e){m("#medwesthealthpoints-spinner-1").animate({opacity:"0"}),document.location.reload(!0),console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}),m(".medwest-frontend-edit-profile").on("click",function(){if(console.log("click"),"false"===m(this).attr("data-saveedits"))m(this).text("Save Profile Edits"),m(this).attr("data-saveedits","true"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").removeAttr("disabled"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").focus();else{m(this).text("Edit Profile"),m(this).attr("data-saveedits","false"),m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").attr("disabled","true");var e=m(this).attr("data-wpuserid"),t=m(this).attr("data-usertableid"),i=m("#medwest-loggedin-indiv-wrapper-actual-data-email-edit").val(),o={action:"medwesthealthpoints_edit_user_profile_action",security:medwestHealthpointsPhpVariables.adminnonce19,wpuserid:e,usertableid:t,usernewemail:i};console.log("This is the data being sent to the server to save a user's activity"),console.log(o),m.ajax({url:ajaxurl,type:"POST",data:o,timeout:0,success:function(e){console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}event.preventDefault?event.preventDefault():event.returnValue=!1}),m(document).on("click",".medwest-denied-activity-div-text-button",function(e){var t=m(this).attr("data-activityname"),i=m(this).attr("data-wpuserid"),o=m(this).attr("data-useremployeeid"),a=m(this).attr("data-id"),n={action:"medwesthealthpoints_dismiss_activity_denied_action",security:medwestHealthpointsPhpVariables.adminnonce18,notificationactivityname:t,notificationuserwpuserid:i,notificationuseridnumber:o,id:a};console.log("This is the data being sent to the server to save a user's activity"),console.log(n),m.ajax({url:ajaxurl,type:"POST",data:n,timeout:0,success:function(e){document.location.reload(!0),console.log(e)},error:function(e,t,i){console.log(i),console.log(t),console.log(e)}})}),e=window.location,t=e.protocol+"//"+e.host+"/"+e.pathname.split("/")[0],m("#site-header").prepend('<div id="medwest-site-header-loggedin-stuff-wrapper"><div id="medwest-site-header-loggedin-stuff-wrapper-welcome">Welcome '+medwestHealthpointsPhpVariables.USERFIRSTNAME.charAt(0).toUpperCase()+medwestHealthpointsPhpVariables.USERFIRSTNAME.slice(1)+'!</div><div id="medwest-site-header-loggedin-stuff-wrapper-links"><a href="'+medwestHealthpointsPhpVariables.LOGOUT_URL+'">Log Out</a> | <a href="'+t+'my-account">My Account</a></div><div>'),null===medwestHealthpointsPhpVariables.userhealthpoints?m("#medwest-rev-and-message-p2").text("0"):m("#medwest-rev-and-message-p2").text(medwestHealthpointsPhpVariables.USERHEALTHPOINTS),function(h,d,l){function c(e,t,i){var o=d.createElement(e);return t&&(o.id=Z+t),i&&(o.style.cssText=i),h(o)}function p(){return l.innerHeight?l.innerHeight:h(l).height()}function m(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var t;return void 0===this.cache[e]&&(void 0!==(t=h(this.el).attr("data-cbox-"+e))?this.cache[e]=t:void 0!==i[e]?this.cache[e]=i[e]:void 0!==Y[e]&&(this.cache[e]=Y[e])),this.cache[e]},this.get=function(e){var t=this.value(e);return h.isFunction(t)?t.call(this.el,this):t}}function n(e){var t=S.length,i=(K+e)%t;return i<0?t+i:i}function u(e,t){return Math.round((/%/.test(e)?("x"===t?_.width():p())/100:1)*parseInt(e,10))}function f(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function g(e,t){return e.get("retinaUrl")&&1<l.devicePixelRatio?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function w(e){"contains"in x[0]&&!x[0].contains(e.target)&&e.target!==b[0]&&(e.stopPropagation(),x.focus())}function v(e){v.str!==e&&(x.add(b).removeClass(v.str).addClass(e),v.str=e)}function y(e){h(d).trigger(e),re.triggerHandler(e)}function o(e){var t,i;if(!J){if(t=h(e).data(X),D=new m(e,t),i=D.get("rel"),K=0,i&&!1!==i&&"nofollow"!==i?(S=h("."+ee).filter(function(){return new m(this,h.data(this,X)).get("rel")===i}),-1===(K=S.index(D.el))&&(S=S.add(D.el),K=S.length-1)):S=h(D.el),!N){N=z=!0,v(D.get("className")),x.css({visibility:"hidden",display:"block",opacity:""}),L=c(de,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),T.css({width:"",height:""}).append(L),F=P.height()+E.height()+T.outerHeight(!0)-T.height(),R=C.width()+H.width()+T.outerWidth(!0)-T.width(),V=L.outerHeight(!0),U=L.outerWidth(!0);var o=u(D.get("initialWidth"),"x"),a=u(D.get("initialHeight"),"y"),n=D.get("maxWidth"),s=D.get("maxHeight");D.w=Math.max((!1!==n?Math.min(o,u(n,"x")):o)-U-R,0),D.h=Math.max((!1!==s?Math.min(a,u(s,"y")):a)-V-F,0),L.css({width:"",height:D.h}),G.position(),y(te),D.get("onOpen"),A.add(M).hide(),x.focus(),D.get("trapFocus")&&d.addEventListener&&(d.addEventListener("focus",w,!0),re.one(ne,function(){d.removeEventListener("focus",w,!0)})),D.get("returnFocus")&&re.one(ne,function(){h(D.el).focus()})}var r=parseFloat(D.get("opacity"));b.css({opacity:r==r?r:"",cursor:D.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),D.get("closeButton")?I.html(D.get("close")).appendTo(T):I.appendTo("<div/>"),function(){var e,t,i,o=G.prep,a=++le;if(B=!(z=!0),y(se),y(ie),D.get("onLoad"),D.h=D.get("height")?u(D.get("height"),"y")-V-F:D.get("innerHeight")&&u(D.get("innerHeight"),"y"),D.w=D.get("width")?u(D.get("width"),"x")-U-R:D.get("innerWidth")&&u(D.get("innerWidth"),"x"),D.mw=D.w,D.mh=D.h,D.get("maxWidth")&&(D.mw=u(D.get("maxWidth"),"x")-U-R,D.mw=D.w&&D.w<D.mw?D.w:D.mw),D.get("maxHeight")&&(D.mh=u(D.get("maxHeight"),"y")-V-F,D.mh=D.h&&D.h<D.mh?D.h:D.mh),e=D.get("href"),$=setTimeout(function(){j.show()},100),D.get("inline")){var n=h(e).eq(0);i=h("<div>").hide().insertBefore(n),re.one(se,function(){i.replaceWith(n)}),o(n)}else D.get("iframe")?o(" "):D.get("html")?o(D.get("html")):f(D,e)?(e=g(D,e),B=D.get("createImg"),h(B).addClass(Z+"Photo").bind("error."+Z,function(){o(c(de,"Error").html(D.get("imgError")))}).one("load",function(){a===le&&setTimeout(function(){var e;D.get("retinaImage")&&1<l.devicePixelRatio&&(B.height=B.height/l.devicePixelRatio,B.width=B.width/l.devicePixelRatio),D.get("scalePhotos")&&(t=function(){B.height-=B.height*e,B.width-=B.width*e},D.mw&&B.width>D.mw&&(e=(B.width-D.mw)/B.width,t()),D.mh&&B.height>D.mh&&(e=(B.height-D.mh)/B.height,t())),D.h&&(B.style.marginTop=Math.max(D.mh-B.height,0)/2+"px"),S[1]&&(D.get("loop")||S[K+1])&&(B.style.cursor="pointer",h(B).bind("click."+Z,function(){G.next()})),B.style.width=B.width+"px",B.style.height=B.height+"px",o(B)},1)}),B.src=e):e&&W.load(e,D.get("data"),function(e,t){a===le&&o("error"===t?c(de,"Error").html(D.get("xhrError")):h(this).contents())})}()}}function a(){x||(Q=!1,_=h(l),x=c(de).attr({id:X,class:!1===h.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),b=c(de,"Overlay").hide(),j=h([c(de,"LoadingOverlay")[0],c(de,"LoadingGraphic")[0]]),k=c(de,"Wrapper"),T=c(de,"Content").append(M=c(de,"Title"),s=c(de,"Current"),O=h('<button type="button"/>').attr({id:Z+"Previous"}),r=h('<button type="button"/>').attr({id:Z+"Next"}),q=h('<button type="button"/>').attr({id:Z+"Slideshow"}),j),I=h('<button type="button"/>').attr({id:Z+"Close"}),k.append(c(de).append(c(de,"TopLeft"),P=c(de,"TopCenter"),c(de,"TopRight")),c(de,!1,"clear:left").append(C=c(de,"MiddleLeft"),T,H=c(de,"MiddleRight")),c(de,!1,"clear:left").append(c(de,"BottomLeft"),E=c(de,"BottomCenter"),c(de,"BottomRight"))).find("div div").css({float:"left"}),W=c(de,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),A=r.add(O).add(s).add(q)),d.body&&!x.parent().length&&h(d.body).append(b,x.append(k,W))}var b,x,k,T,P,C,H,E,S,_,L,W,j,M,s,q,r,O,I,A,D,F,R,V,U,K,B,N,z,J,$,G,Q,Y={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return h(this).attr("href")},title:function(){return this.title},createImg:function(){var i=new Image,e=h(this).data("cbox-img-attrs");return"object"==typeof e&&h.each(e,function(e,t){i[e]=t}),i},createIframe:function(){var i=d.createElement("iframe"),e=h(this).data("cbox-iframe-attrs");return"object"==typeof e&&h.each(e,function(e,t){i[e]=t}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},X="colorbox",Z="cbox",ee=Z+"Element",te=Z+"_open",ie=Z+"_load",oe=Z+"_complete",ae=Z+"_cleanup",ne=Z+"_closed",se=Z+"_purge",re=h("<a/>"),de="div",le=0,he={},ce=function(){function e(){clearTimeout(s)}function t(){(D.get("loop")||S[K+1])&&(e(),s=setTimeout(G.next,D.get("slideshowSpeed")))}function i(){q.html(D.get("slideshowStop")).unbind(d).one(d,o),re.bind(oe,t).bind(ie,e),x.removeClass(r+"off").addClass(r+"on")}function o(){e(),re.unbind(oe,t).unbind(ie,e),q.html(D.get("slideshowStart")).unbind(d).one(d,function(){G.next(),i()}),x.removeClass(r+"on").addClass(r+"off")}function a(){n=!1,q.hide(),e(),re.unbind(oe,t).unbind(ie,e),x.removeClass(r+"off "+r+"on")}var n,s,r=Z+"Slideshow_",d="click."+Z;return function(){n?D.get("slideshow")||(re.unbind(ae,a),a()):D.get("slideshow")&&S[1]&&(n=!0,re.one(ae,a),D.get("slideshowAuto")?i():o(),q.show())}}();h[X]||(h(a),(G=h.fn[X]=h[X]=function(t,e){var i=this;return t=t||{},h.isFunction(i)&&(i=h("<a/>"),t.open=!0),i[0]&&(a(),function(){function e(e){1<e.which||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),o(this))}return!!x&&(Q||(Q=!0,r.click(function(){G.next()}),O.click(function(){G.prev()}),I.click(function(){G.close()}),b.click(function(){D.get("overlayClose")&&G.close()}),h(d).bind("keydown."+Z,function(e){var t=e.keyCode;N&&D.get("escKey")&&27===t&&(e.preventDefault(),G.close()),N&&D.get("arrowKey")&&S[1]&&!e.altKey&&(37===t?(e.preventDefault(),O.click()):39===t&&(e.preventDefault(),r.click()))}),h.isFunction(h.fn.on)?h(d).on("click."+Z,"."+ee,e):h("."+ee).live("click."+Z,e)),!0)}()&&(e&&(t.onComplete=e),i.each(function(){var e=h.data(this,X)||{};h.data(this,X,h.extend(e,t))}).addClass(ee),new m(i[0],t).get("open")&&o(i[0]))),i}).position=function(t,e){function i(){P[0].style.width=E[0].style.width=T[0].style.width=parseInt(x[0].style.width,10)-R+"px",T[0].style.height=C[0].style.height=H[0].style.height=parseInt(x[0].style.height,10)-F+"px"}var o,a,n,s=0,r=0,d=x.offset();if(_.unbind("resize."+Z),x.css({top:-9e4,left:-9e4}),a=_.scrollTop(),n=_.scrollLeft(),D.get("fixed")?(d.top-=a,d.left-=n,x.css({position:"fixed"})):(s=a,r=n,x.css({position:"absolute"})),r+=!1!==D.get("right")?Math.max(_.width()-D.w-U-R-u(D.get("right"),"x"),0):!1!==D.get("left")?u(D.get("left"),"x"):Math.round(Math.max(_.width()-D.w-U-R,0)/2),s+=!1!==D.get("bottom")?Math.max(p()-D.h-V-F-u(D.get("bottom"),"y"),0):!1!==D.get("top")?u(D.get("top"),"y"):Math.round(Math.max(p()-D.h-V-F,0)/2),x.css({top:d.top,left:d.left,visibility:"visible"}),k[0].style.width=k[0].style.height="9999px",o={width:D.w+U+R,height:D.h+V+F,top:s,left:r},t){var l=0;h.each(o,function(e){return o[e]!==he[e]?void(l=t):void 0}),t=l}he=o,t||x.css(o),x.dequeue().animate(o,{duration:t||0,complete:function(){i(),z=!1,k[0].style.width=D.w+U+R+"px",k[0].style.height=D.h+V+F+"px",D.get("reposition")&&setTimeout(function(){_.bind("resize."+Z,G.position)},1),h.isFunction(e)&&e()},step:i})},G.resize=function(e){var t;N&&((e=e||{}).width&&(D.w=u(e.width,"x")-U-R),e.innerWidth&&(D.w=u(e.innerWidth,"x")),L.css({width:D.w}),e.height&&(D.h=u(e.height,"y")-V-F),e.innerHeight&&(D.h=u(e.innerHeight,"y")),e.innerHeight||e.height||(t=L.scrollTop(),L.css({height:"auto"}),D.h=L.height()),L.css({height:D.h}),t&&L.scrollTop(t),G.position("none"===D.get("transition")?0:D.get("speed")))},G.prep=function(e){if(N){var t,a="none"===D.get("transition")?0:D.get("speed");L.remove(),(L=c(de,"LoadedContent").append(e)).hide().appendTo(W.show()).css({width:(D.w=D.w||L.width(),D.w=D.mw&&D.mw<D.w?D.mw:D.w,D.w),overflow:D.get("scrolling")?"auto":"hidden"}).css({height:(D.h=D.h||L.height(),D.h=D.mh&&D.mh<D.h?D.mh:D.h,D.h)}).prependTo(T),W.hide(),h(B).css({float:"none"}),v(D.get("className")),t=function(){function e(){!1===h.support.opacity&&x[0].style.removeAttribute("filter")}var t,i,o=S.length;N&&(i=function(){clearTimeout($),j.hide(),y(oe),D.get("onComplete")},M.html(D.get("title")).show(),L.show(),1<o?("string"==typeof D.get("current")&&s.html(D.get("current").replace("{current}",K+1).replace("{total}",o)).show(),r[D.get("loop")||K<o-1?"show":"hide"]().html(D.get("next")),O[D.get("loop")||K?"show":"hide"]().html(D.get("previous")),ce(),D.get("preloading")&&h.each([n(-1),n(1)],function(){var e=S[this],t=new m(e,h.data(e,X)),i=t.get("href");i&&f(t,i)&&(i=g(t,i),d.createElement("img").src=i)})):A.hide(),D.get("iframe")?(t=D.get("createIframe"),D.get("scrolling")||(t.scrolling="no"),h(t).attr({src:D.get("href"),class:Z+"Iframe"}).one("load",i).appendTo(L),re.one(se,function(){t.src="//about:blank"}),D.get("fastIframe")&&h(t).trigger("load")):i(),"fade"===D.get("transition")?x.fadeTo(a,1,e):e())},"fade"===D.get("transition")?x.fadeTo(a,0,function(){G.position(0,t)}):G.position(a,t)}},G.next=function(){!z&&S[1]&&(D.get("loop")||S[K+1])&&(K=n(1),o(S[K]))},G.prev=function(){!z&&S[1]&&(D.get("loop")||K)&&(K=n(-1),o(S[K]))},G.close=function(){N&&!J&&(N=!(J=!0),y(ae),D.get("onCleanup"),_.unbind("."+Z),b.fadeTo(D.get("fadeOut")||0,0),x.stop().fadeTo(D.get("fadeOut")||0,0,function(){x.hide(),b.hide(),y(se),L.remove(),setTimeout(function(){J=!1,y(ne),D.get("onClosed")},1)}))},G.remove=function(){x&&(x.stop(),h[X].close(),x.stop(!1,!0).remove(),b.remove(),J=!1,x=null,h("."+ee).removeData(X).removeClass(ee),h(d).unbind("click."+Z).unbind("keydown."+Z))},G.element=function(){return h(D.el)},G.settings=Y)}(jQuery,document,window)});